<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>电器</title>
    <link rel="stylesheet" href="../styles/iconfont.css">
    <link rel="stylesheet" href="../styles/base.css">
    <link rel="stylesheet" href="../styles/header.css">
    <link rel="stylesheet" href="../styles/home.css">
    <link rel="stylesheet" href="../styles/pblb.css">
    <link rel="stylesheet" href="../styles/ele.css">
    <script src="../../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../js/shoes/load.js"></script>
    <script src="../js/home/slide.js"></script>
    <script src="../js/public.js"></script>

</head>

<body>
    <!-- ------------------------------动态--------------------------------------------- -->
    <!-- 页面顶部容器 -->
    <div id="header"></div>
    <div id="right-fixed"></div>
    <div class="our">
        <!-- title -->
        <div class="m-crumbs base">
            <a href="javascript:;">首页</a>
            <span class="iconfont icon-you"></span>
            <span>电器</span>
        </div>
        <div class="m-focus base">
            <div class="slider">
                <!-- lunbo -->
                <ul class="slider_list">
                    <li>
                        <a href="javascript:;">
                            <img src="../images/image_ele/ele104.jpg" alt="">
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="../images/image_ele/ele105.jpg" alt="">
                        </a>
                    </li>
                </ul>
                <span class="iconfont icon-xiangzuo prve"></span>
                <span class="iconfont icon-you next"></span>
                <ul class="point">
                    <li></li>
                    <li></li>
                </ul>
            </div>

        </div>
        <div class="goodArea base">
            <!-- 分类 配送地区 排序  区域 -->
            <div class="m-sortbar">
                <div class="classfy">
                    <span class="name">分类：</span>
                    <div class="classfyGroup">
                        <a href="javascript:;" class="active">全部</a>
                        <a href="javascript:;">生活电器</a>
                        <a href="javascript:;">厨房电器</a>
                        <a href="javascript:;">个护健康</a>
                        <a href="javascript:;">数码</a>
                        <a href="javascript:;">影音娱乐</a>

                    </div>
                </div>
                <div class="area">
                    <span class="name">配送地区：</span>
                    <div class="classfyGroup">
                        <a href="javascript:;" class="active">全部</a>
                        <a href="javascript:;">香港</a>
                        <a href="javascript:;">澳门</a>
                        <a href="javascript:;">台湾</a>
                        <a href="javascript:;">日韩</a>
                        <a href="javascript:;">亚洲</a>
                        <a href="javascript:;">欧洲</a>
                        <a href="javascript:;">美洲</a>

                    </div>
                </div>
                <div class="sorts">
                    <span class="name">排序：</span>
                    <div class="classfyGroup">
                        <a href="javascript:;" class="active">默认</a>
                        <a class="price">
                            <span>价格</span>
                            <div class="c">
                                <i></i>
                                <i></i>
                            </div>
                        </a>
                        <a href="javascript:;" class="time">
                            <span>上架时间</span>
                            <i class="icon"></i>
                        </a>

                    </div>
                </div>
            </div>
            <div class="m-content">
                <!-- 生活电器-->
                <div class="m-level sh ">
                    <div class="hd">
                        <p class="title"><span>生活电器</span></p>
                        <p class="desc">高性价比的智能小家电</p>
                    </div>
                    <ul class="m-itemlist"></ul>
                </div>
                <!-- 厨房电器-->
                <div class="m-level m">
                    <div class="hd">
                        <p class="title"><span>厨房电器</span></p>
                        <p class="desc">厨房里的省心小电器</p>
                    </div>

                </div>
                <!-- 个护健康-->
                <div class="m-level m">
                    <div class="hd">
                        <p class="title"><span>个护健康</span></p>
                        <p class="desc">个人护理 省心生活</p>
                    </div>

                </div>
                <!--数码-->
                <div class="m-level m">
                    <div class="hd">
                        <p class="title"><span>数码</span></p>
                        <p class="desc">个人护理 省心生活</p>
                    </div>

                </div>
                <!--影音娱乐-->
                <div class="m-level m">
                    <div class="hd">
                        <p class="title"><span>影音娱乐</span></p>
                        <p class="desc">视听盛宴，共享欢乐</p>
                    </div>

                </div>

            </div>
        </div>
    </div>
    <!-- 页面底部容器 -->
    <div class="footer"></div>
    <script>
        $(function() {

            if (window.XMLHttpRequest) {

                $('.sorts .c>i:first').click(function() {
                    $.ajax({
                        type: "get",
                        dataType: "json",
                        url: "../php/ele1.php",
                        success: function(data) {
                            var elem = {};
                            if (data.length) {
                                for (var i = 0; i < data.length; i++) {
                                    //创建img
                                    $('.sh>ul img').eq(i).attr('src', data[i].l_url);
                                    //创建颜色可选
                                    $('.sh>ul .hd div').eq(i).addClass("colorNum");
                                    if (data[i].l_colNum) {
                                        $('.sh>ul .hd div').eq(i).children('span').first().html(data[i].l_colNum);
                                        $('.sh>ul .hd div').eq(i).children('span').last().html("色可选");
                                    } else if (data[i].l_colNum == null) {
                                        $('.sh>ul .hd div').eq(i).css("display", "none");
                                    }

                                    //判断商品售卖情况
                                    if (data[i].l_part) {
                                        switch (Number(data[i].l_part)) {
                                            case 1:
                                                $('.sh .prdTags>span').eq(i).html('新品').addClass("itemTag");
                                                break;
                                            case 2:
                                                $('.sh .prdTags>span').eq(i).html('限时').addClass("itemTag1");
                                                break;
                                            case 3:
                                                $('.sh .prdTags>span').eq(i).html('爆品').addClass("itemTag2");
                                                break;
                                        }
                                    }

                                    // 商品名称
                                    $('.sh ul .name span').eq(i).html(data[i].l_name);
                                    $('.sh>ul .bd .price>span').eq(i).children('span').last().html(data[i].l_price);
                                    //判断是否有折扣
                                    if (data[i].l_oprice) {
                                        elem.span_oldp = $('<del/>').html('¥' + data[i].l_oprice);
                                        $('.sh ul .price').eq(i).append(elem.span_oldp);
                                    }
                                    //描述
                                    $('.sh ul .introu>.desc').eq(i).html(data[i].l_tips);

                                }


                            }

                        },
                        error: function(err) {
                            console.log("失败");

                        }
                    });
                });
                $('.sorts .c>i:last').click(function() {
                    $.ajax({
                        type: "get",
                        dataType: "json",
                        url: "../php/ele2.php",
                        success: function(data) {
                            var elem = {};
                            if (data.length) {
                                for (var i = 0; i < data.length; i++) {
                                    //创建img
                                    $('.sh>.life img').eq(i).attr('src', data[i].l_url);
                                    //创建颜色可选
                                    $('.sh>.life .hd div').eq(i).addClass("colorNum");
                                    if (data[i].l_colNum) {
                                        $('.sh>.life .hd div').eq(i).children('span').first().html(data[i].l_colNum);
                                        $('.sh>.life .hd div').eq(i).children('span').last().html("色可选");
                                    } else if (data[i].l_colNum == null) {
                                        $('.sh>.life .hd div').eq(i).css("display", "none");
                                    }

                                    //判断商品售卖情况
                                    if (data[i].l_part) {
                                        switch (Number(data[i].l_part)) {
                                            case 1:
                                                $('.sh .prdTags>span').eq(i).html('新品').addClass("itemTag");
                                                break;
                                            case 2:
                                                $('.sh .prdTags>span').eq(i).html('限时').addClass("itemTag1");
                                                break;
                                            case 3:
                                                $('.sh .prdTags>span').eq(i).html('爆品').addClass("itemTag2");
                                                break;
                                        }
                                    }

                                    // 商品名称
                                    $('.sh .life .name span').eq(i).html(data[i].l_name);
                                    $('.sh>.life .bd .price>span').eq(i).children('span').last().html(data[i].l_price);
                                    //判断是否有折扣
                                    if (data[i].l_oprice) {
                                        elem.span_oldp = $('<del/>').html('¥' + data[i].l_oprice);
                                        $('.sh .life .price').eq(i).append(elem.span_oldp);
                                    }
                                    //描述
                                    $('.sh .life .introu>.desc').eq(i).html(data[i].l_tips);

                                }


                            }

                        },
                        error: function(err) {
                            console.log("失败");

                        }
                    });
                });


                $.ajax({
                    type: "get",
                    dataType: "json",
                    url: "../php/ele.php",
                    async: false, //为了让懒加载在ajax请求之后执行
                    success: function(data) {
                        var elem = {};
                        if (data.length) {
                            for (var i = 0; i < data.length; i++) {

                                elem.li = $('<li/>').addClass("item");
                                elem.div_product = $('<div/>').addClass("product");
                                elem.li.append(elem.div_product);
                                //hd
                                elem.div_hd = $('<div/>').addClass("hd");
                                elem.div_product.append(elem.div_hd);
                                //创建img src=" "
                                elem.a1 = $('<a/>');
                                elem.div_hd.append(elem.a1);
                                elem.img = $('<img/>').attr('src', " ").attr('data-src', data[i].l_url);
                                // src=" " data-src="../images/image_shoes/pic_090.png" alt=""
                                elem.a1.append(elem.img)
                                    //创建颜色可选
                                elem.div_colorNum = $("<div/>").addClass("colorNum");
                                elem.div_colorNum1 = $("<span/>").html(data[i].l_colNum);
                                elem.div_colorNum2 = $("<span/>").html("色可选");
                                elem.div_colorNum.append(elem.div_colorNum1);
                                elem.div_colorNum.append(elem.div_colorNum2);
                                elem.a1.append(elem.div_colorNum);
                                //bd
                                elem.div_bd = $("<div/>").addClass("bd");
                                elem.div_product.append(elem.div_bd);
                                //判断商品售卖情况
                                elem.div_prdTags = $('<div/>').addClass("prdTags");
                                elem.div_bd.append(elem.div_prdTags);
                                switch (Number(data[i].l_part)) {
                                    case 1:
                                        elem.span_prd = $('<span/>').html('新品').addClass("itemTag");
                                        elem.div_prdTags.append(elem.span_prd);
                                        break;
                                    case 2:
                                        elem.span_prd = $('<span/>').html('限时购').addClass("itemTag1");
                                        elem.div_prdTags.append(elem.span_prd);
                                        break;
                                    case 0:
                                        elem.span_prd = $('<span/>').html('爆品').addClass("itemTag2");
                                        elem.div_prdTags.append(elem.span_prd);
                                        break;
                                }

                                // 商品名称
                                elem.divname = $("<div/>").addClass("name");
                                elem.a2 = $('<a/>');
                                elem.divspan = $("<span/>").html(data[i].l_name);
                                elem.a2.append(elem.divspan);
                                elem.divname.append(elem.a2);
                                elem.div_bd.append(elem.divname);
                                // 价格
                                elem.p_price = $("<p/>").addClass("price");
                                elem.span_newp = $('<span/>');
                                elem.p_price.append(elem.span_newp);
                                elem.span_rmb = $('<span/>').html("¥");
                                elem.span_n = $('<span/>').html(data[i].l_price);
                                elem.span_newp.append(elem.span_rmb);
                                elem.span_newp.append(elem.span_n);
                                elem.div_bd.append(elem.p_price);
                                //判断是否有折扣
                                if (data[i].l_oprice) {
                                    elem.span_oldp = $('<del/>').html('¥' + data[i].l_oprice);
                                    elem.p_price.append(elem.span_oldp);
                                }
                                //描述
                                elem.div_desc = $('<div/>').addClass("introu");
                                elem.hr = $('<hr/>');
                                elem.p_desc = $('<p/>').html(data[i].l_tips);
                                elem.div_desc.append(elem.hr);
                                elem.div_desc.append(elem.p_desc);
                                elem.div_bd.append(elem.div_desc);
                                //
                                $('.sh>ul').append(elem.li);

                            }
                            //克隆每个模块的ul
                            var a = $('.sh>ul').clone();
                            $('.m').append(a);

                        }


                    },
                    error: function(err) {
                        console.log("失败");

                    }
                });

            }

        });
    </script>
    <script src="../js/lazy.js"></script>
    <script>
        $("#header").load('home.html .header');
        $("#right-fixed").load('home.html .right-fixed');
        $(".footer").load('home.html #footer');
    </script>

</body>

</html>